# Axelar 白皮书：连接应用与区块链生态系统

**版本 1.0 | 2021年1月**

---

## 摘要

多个区块链生态系统正在兴起，为用户和应用开发者提供独特且有吸引力的功能。然而，生态系统之间的通信非常稀疏和碎片化。为了让应用能够在区块链生态系统之间无摩擦地通信，我们提出了 **Axelar**。

Axelar 技术栈提供了：

- 去中心化网络
- 跨链协议
- 开发工具和 API

**核心协议套件**包括：

- **跨链网关协议（CGP）**：跨境路由和传输协议
- **跨链传输协议（CTP）**：应用层协议

去中心化的开放验证者网络为该网络提供动力；任何人都可以加入、使用和参与。拜占庭共识、密码学和激励机制的设计旨在实现跨链请求独特的高安全性和活性要求。

---

## 1. 引言

### 1.1 问题背景

区块链系统正迅速获得流行，吸引了资产代币化、去中心化金融和其他分布式应用的新用例。几个主要平台如：

- **Ethereum, Monero, EOS, Cardano**
- **Terra, Cosmos, Avalanche, Algorand**
- **Near, Celo, Polkadot**

这些平台提供不同的特性和开发环境，吸引不同的应用、用例和最终用户。

### 1.2 核心挑战

**现状问题**：

- 每个新平台的有用功能仅提供给不到 1% 的生态系统用户（即该平台原生代币的持有者）
- 跨链通信几乎不存在

**关键问题**：

1. 我们能否让平台开发者轻松地将他们的区块链插入其他生态系统？
2. 我们能否让应用构建者在最适合其需求的平台上构建，同时仍能跨多个区块链生态系统通信？
3. 我们能否让用户直接从钱包与任何区块链上的任何应用交互？

---

## 2. Axelar 解决方案

### 2.1 核心协议

#### 🌐 跨链网关协议（CGP）

- **类比**：类似于互联网的边界网关协议（BGP）
- **功能**：
  - 连接多个自治区块链生态系统
  - 负责跨生态系统路由
  - 区块链无需"说任何自定义语言"
  - 平台开发者无需对其链进行任何自定义更改
  - 可以轻松插入全球网络

#### 📡 跨链传输协议（CTP）

- **类比**：类似于应用层协议（HTTP/HTTPS、FTP）
- **功能**：
  - 位于路由协议（如 CGP）之上的应用层协议栈
  - 应用开发者可以连接任何链上的 dapp 执行跨链请求
  - 用户可以使用类似 HTTP GET/POST 的简单 API 调用与任何链上的应用交互

**支持的操作**：

- 锁定、解锁和转移任何区块链平台之间的资产
- 执行跨链应用触发器（例如，链 A 上的 dapp 可以在链 B 上的应用满足某些搜索条件时更新其状态）
- 执行跨链应用之间的通用请求（链 A 上的智能合约可以调用更新链 B 上智能合约的状态）
- 实现跨区块链生态系统的程序可组合性

### 2.2 网络优势

#### 对于区块链平台构建者

- 能够轻松地将其区块链插入所有其他区块链生态系统
- 只需在链上设置阈值账户即可插入网络

#### 对于 DApp 构建者

- 应用构建者可以在任何地方托管其 dapp
- 通过 CTP API 锁定、解锁、转移资产
- 与任何其他链上的应用通信

#### 对于用户

- 用户可以直接从钱包与生态系统中的所有应用交互

---

## 3. 现有互操作性解决方案的局限性

### 3.1 中心化系统

**优点**：

- 目前唯一真正可扩展的互操作性解决方案
- 可以轻松列出任何资产或接入任何平台

**缺点**：

- ❌ 存在各种安全问题
- ❌ 不足以支持新兴的去中心化金融系统
- ❌ 缺乏安全性、透明度和开放治理

### 3.2 互操作性中心（Interoperability Hubs）

**代表项目**：Cosmos、Polkadot、Avalanche

**局限性**：

- 使用自定义链间通信协议解决生态系统原生侧链之间的互操作性
- 侧链必须基于特定共识（如 Tendermint）
- 原生理解协议的要求
- 与其他说不同"语言"的区块链和生态系统的连接留给外部技术

### 3.3 成对桥接（Pairwise Bridges）

**代表方案**：Wrapped Assets（如 tBTC）

**问题**：

- ❌ 需要大量工程工作 - 每个链对都需要构建新的智能合约
- ❌ 只部署了少数几个桥接
- ❌ 当底层区块链升级共识规则或交易格式时不可扩展
- ❌ 所有依赖这些链状态的智能合约都需要升级
- ❌ 必须设置验证者并要求他们锁定不同资产以过度抵押任何资产转移
- ❌ 限制了此类转移的经济效率

**可扩展性问题**：

- 如果单用途桥接连接平台 A 和 B，第二个单用途桥接连接 B 和 C
- 这并不意味着 A 上的应用能够与 C 上的应用通信
- 可能需要创建另一个单用途桥接或重新布线应用逻辑

---

## 4. 可扩展跨链通信的需求

### 4.1 功能需求

#### 1. "即插即用"集成

- 区块链平台构建者不应被要求执行繁重的工程或集成工作
- 无需说某种"自定义语言"来支持跨链
- 跨链协议应能够无摩擦地插入任何现有或新的区块链
- 应以最小的努力添加新资产

#### 2. 跨链路由

- 支持网络地址发现
- 路由路径
- 网络功能
- 类似于互联网的 BGP 和其他路由协议

#### 3. 可升级性支持

- 如果一个区块链生态系统发生变化，不应影响其他区块链的互操作性
- 系统需要识别更新
- 应需要最小的努力来支持它们
- 不应重写"状态转换逻辑"
- 应用不应中断

#### 4. 应用的统一语言

- 应用需要一个简单的协议来锁定、解锁、转移和与其他应用通信
- 无论它们驻留在哪条链上
- 此协议必须是链不可知的
- 支持类似于 HTTP/HTTPS 协议的简单调用

### 4.2 安全需求

#### 1. 去中心化信任

- 网络和协议必须是去中心化、开放的
- 允许每个人公平参与

#### 2. 高安全性

- 系统必须满足高安全保证
- 需要在跨链网络处理时保护资产和状态的安全

#### 3. 高活性

- 系统必须满足高活性保证
- 支持利用其跨链功能的应用

---

## 5. Axelar 网络架构

### 5.1 核心组件

#### 🔐 去中心化网络

- 验证者集体维护 Axelar 网络
- 运行保护 Axelar 区块链的节点
- 通过用户的委托过程选举
- 验证者根据委托给他们的权益按比例获得投票权

#### ⛓️ Axelar 区块链

- 维护和运行跨链路由和传输协议
- 遵循类似于 Cosmos Hub 的委托权益证明（DPoS）模型
- 用户选举验证者，验证者必须绑定其权益以参与共识
- DPoS 模型允许维护大型去中心化验证者集和强大的激励措施

#### 🔑 阈值签名

- 验证者集体维护其他区块链上的阈值签名账户
- 例如：80% 的验证者必须批准并共同签名任何交易
- 允许跨链锁定和解锁资产和状态
- 允许在其他区块链上发布状态

### 5.2 工作原理

#### 入站桥接（Incoming Bridges）

1. 验证者运行其他区块链的轻客户端软件
2. 允许他们验证其他区块链的状态
3. 验证者将这些状态报告给 Axelar 区块链
4. 一旦足够多的验证者报告，就会在 Axelar 上记录 Bitcoin、Ethereum 和其他链的状态

#### 出站桥接（Outgoing Bridges）

1. 验证者集体维护其他区块链上的阈值签名账户
2. 任何交易都需要 80% 的验证者批准和共同签名
3. 允许跨链锁定和解锁资产
4. 允许在其他区块链上发布状态

**整体视图**：

> Axelar 网络可以被视为去中心化的跨链读/写预言机

### 5.3 密码学基础

#### 数字签名

- 标准签名方案：ECDSA、Ed25519
- 使用三元组算法：(Keygen, Sign, Verify)

#### 阈值签名

**定义**：

- 使一组 n 方能够拆分签名方案的密钥
- 任何 t+1 个或更多方的子集可以协作生成签名
- 任何 t 个或更少方的子集都无法生成签名或了解有关密钥的任何信息

**关键属性**：

1. **抵御不诚实多数**：可以容忍尽可能多的损坏方
2. **预签名和非交互式在线签名**：
   - 离线阶段：生成预签名
   - 在线阶段：每个方只需进行本地计算并公布其签名份额
3. **鲁棒性**：即使一些恶意方发送格式错误的消息或丢弃消息，T.Keygen 和 T.Sign 也能成功
4. **故障归因**：能够识别 T.Keygen 或 T.Sign 中的不良行为者
5. **并发设置中的安全性**：在多个实例并行运行时保持安全

### 5.4 验证者集更新机制

#### 轮换周期

- 每 T 个区块轮换一次验证者
- 在 T 轮内，验证者集 V^R 和阈值密钥是固定的

#### 更新流程

1. 在轮次 ((i-1)T, iT] 期间，用户发布绑定/解绑消息
2. 在轮次 iT 结束时，这些消息应用于 V^{iT-1} 以获得 V^{iT}
3. 需要更新阈值密钥以在新集合中共享

#### 签名时间约束

- 在轮次 R 发出的请求必须在轮次 R+10 之前产生签名
- 轮次 R+11 的区块必须包含轮次 R 请求的结果
- 在等于 -1, -2, ..., -9 模 T 的轮次期间，Axelar 不发出任何阈值请求

### 5.5 网络安全机制

#### 🛡️ 最大安全性

- **安全阈值**：90%
- 几乎所有验证者都需要串通才能提取锁定的任何资金或伪造状态证明
- PoS 验证者实践中具有非常高的正常运行时间（接近 100%）
- 即使在这个高阈值下，网络也会产生区块

#### 🌍 最大去中心化

- 由于网络使用阈值签名方案，验证者数量可以尽可能大
- 网络不受验证者数量、交易限制或费用的限制
- 不会因使用多重签名而导致复杂性和费用随验证者数量线性增加

#### 🔄 强大的后备机制

**紧急解锁密钥**：

- 每个阈值桥接账户都有"紧急解锁密钥"
- 此密钥可以在数千方之间共享
- 甚至可以是为区块链 X 定制的密钥，在该链社区中共享

**后备机制选项**：

- **选项 a**：在区块链项目的基金会和社区中的知名人士之间共享密钥
- **选项 b**：通过委托 PoS 机制选举的各方之间共享
- **选项 c**：对于管理链/应用 X 的资产和信息的账户，在 X 的利益相关者/验证者之间共享自定义密钥

**恢复密钥生成**：

1. 每个 Axelar 验证者共享一个随机值
2. 恢复密钥通过求和这些值生成
3. 所有份额在恢复用户的公钥下加密
4. 然后同态相加
5. 结果是恢复公钥 RPK 和潜在数千个加密（在恢复用户的公钥下）的对应密钥份额 Enc_i(s_i)

#### 📊 链故障处理

**如果连接到 Axelar 的链 X 损坏**：

- 对可以在任何一天移入/移出 X 的资产美元价值施加限制
- 在 Axelar 验证者检测到之前，恶意链 X 只能窃取桥接到它的所有资产的一小部分
- Axelar 治理模块可用于投票决定在这些情况下发生什么

**治理选项**：

- 如果存在良性错误并且社区重新启动 X，Axelar 治理可以决定从中断的地方重新启动连接
- 如果 ETH 已移至 X，自定义以太坊恢复密钥可以确定 ETH 资产会发生什么

---

## 6. 跨链网关协议（CGP）详解

### 6.1 其他链上的账户

#### Bitcoin 账户

**创建方式**：

- Axelar 验证者创建阈值 ECDSA 密钥
- 此密钥控制 Bitcoin 上的 ECDSA 账户
- 是用户发送存款的目标地址

**特点**：

- 可以根据用户请求创建个性化的阈值密钥
- 密钥可能会定期更新
- 可以通过查询 Axelar 节点找到最新密钥和个性化密钥

#### 智能合约链上的阈值桥接账户

**设置流程**：

1. 验证者创建阈值 ECDSA 或 ED25519 密钥（取决于链支持的密钥类型）
2. 记为 PK_Axelar
3. 此密钥控制智能合约账户，记为 SC_Axelar
4. SC 上的任何应用都可以查询 SC_Axelar 以了解该密钥的 PK 地址

**密钥轮换**：

1. 初始化 SC_Axelar，存储 PK_Axelar 作为其状态的一部分
2. 要更新 PK_Axelar，必须提交格式为 (update, PK_new) 的交易
3. 需要来自当前 SK_Axelar 的签名
4. 每次验证者将 SC 的阈值密钥从 PK*i 更新为 PK*{i+1} 时：
   - Axelar 请求验证者使用 SK*i 签署 (update, PK*{i+1})
   - 随后将此签名发布到 SC_Axelar，后者更新 PK_Axelar

### 6.2 状态同步流程

**场景**：将源链 S 的状态信息发布到目标链 D

**示例问题 q_S**：

- "交易 tx 在哪个区块轮次出现（如果有）？"
- "某个数据字段的值是多少？"
- "区块轮次 314159 时 S 的整个状态的 Merkle 根哈希是什么？"

**流程步骤**：

```
1. 用户发起请求
   ├─ 将请求 q_S 发布到桥接账户之一
   └─ 或直接发布到 Axelar 区块链

2. 验证者查询
   ├─ 每个验证者运行链 S、D 的节点软件
   ├─ 验证者查询其链 S 节点软件的 API 获取答案 a_S
   └─ 向 Axelar 链报告答案

3. 达成共识
   ├─ > F 加权验证者在轮次 R 报告相同答案时
   └─ Axelar 要求验证者签署 a_S

4. 阈值签名
   ├─ 验证者使用阈值密码学签署 a_S
   └─ 签名包含在区块 R + 11 中

5. 发布到目标链
   ├─ 任何人都可以从区块 R + 11 中获取签名值 a_S
   └─ 将其发布到 D

6. 验证和使用
   ├─ D 上的任何应用都可以获取签名值 a_S
   ├─ 查询 D_Axelar 获取最新的 PK_Axelar
   ├─ 验证 a_S 的签名对应于 PK_Axelar
   └─ 验证者还将 a_S 发布到链 D 上的桥接账户
```

### 6.3 跨链资产转移流程

#### 📥 从源链 S 到目标链 D

**场景**：用户要将 S 上的 x 数量代币兑换为 D 上的 x 数量 pegged-S 代币

**详细流程**：

```
1. 发起转移请求
   用户（或代表用户的应用）
   └─ 发布转移请求 (x, w_D) 到阈值桥接账户
   └─ 随后路由到 Axelar 网络

2. 创建存款地址
   Axelar 验证者使用阈值密码学
   ├─ 集体为 S 创建新的存款地址 d_S
   └─ 将 d_S 发布到 Axelar 区块链

3. 用户获取地址并存款
   用户通过监控 Axelar 区块链了解 d_S
   └─ 通过普通 S 交易 tx_S 发送 x 数量的 S 代币到地址 d_S
   └─ 使用他们最喜欢的链 S 软件

   ⚠️ 重要：由于 d_S 的阈值属性
   └─ 除非阈值数量的验证者协调，否则无法从 d_S 花费代币

4. 验证存款
   tx_S 发布在 Axelar 上
   ├─ 验证者查询其链 S 节点软件的 API 以确认 tx_S 的存在
   ├─ 如果响应为 "true"，向 Axelar 链报告答案
   └─ > F 加权验证者在轮次 R 报告 "true"

5. 生成释放交易
   Axelar 要求验证者签署交易 a_D
   └─ a_D = 从 D_Axelar 向 w_D 发送 x 数量的 pegged-S 代币

6. 阈值签名
   验证者使用阈值密码学签署 a_D
   └─ 签名包含在区块 R + 11 中

7. 发布到目标链
   任何人都可以从区块 R + 11 中获取签名值 a_D
   └─ 将其发布到 D

8. 完成转移
   一旦 a_D 发布在 D 上
   └─ 转移被处理，请求已得到服务
```

#### 📤 从目标链 D 赎回回源链 S

**场景**：用户要从链 D 赎回 x' 数量的 wrapped-S 代币回链 S

**流程**：

```
1. 发起赎回请求
   用户通过普通 D 交易
   └─ 将 x' 数量的 wrapped-S 代币存入 c_D
   └─ 使用他们最喜欢的链 D 软件
   └─ 发起转移请求 (x', w_S)

2. 验证赎回
   (x', w_S) 发布在 Axelar 上
   ├─ 验证者查询其链 D 节点软件的 API
   ├─ 如果响应为 "true"，向 Axelar 链报告答案
   └─ > F 加权验证者在轮次 R 报告 "true"

3. 生成释放交易
   Axelar 要求验证者签署交易 a_S
   └─ a_S = 从 S_Axelar 向 w_S 发送 x' 数量的 S 代币

4. 阈值签名
   验证者使用阈值密码学签署 a_S
   └─ 签名包含在区块 R + 11 中

5. 发布到源链
   任何人都可以从区块 R + 11 中获取签名值 a_S
   └─ 将其发布到 S

6. 完成赎回
   一旦 a_S 发布在 S 上
   └─ 转移被处理，请求已得到服务
```

#### 原子性保证

**请求状态**：

- initialized（已初始化）
- pending（待处理）
- completed（已完成）
- timed out（超时）

**超时处理**：

- 如果在待处理阶段触发超时，请求返回错误代码
- 某些超时事件还会开始退款事件
- 例如：如果一个链的资产需要转移到另一个链的资产，如果接收链没有处理交易，资产将退还给原始用户

---

## 7. 跨链传输协议（CTP）详解

### 7.1 CTP 概述

CTP 是一个应用层协议，使应用能够轻松利用跨链功能。

**应用组件**：

1. 前端 GUI
2. 一条链上的智能合约
3. 在前端和智能合约之间发布交易的中介节点

**CTP 功能**：

- 前端与用户的钱包交互以接受存款、处理提款等
- 应用可以通过调用类似于 HTTP/HTTPS GET/POST 方法的 CTP 查询来利用跨链功能

### 7.2 集成方式

#### CTP 查询

- 应用开发者可以在任何链上托管其应用
- 将其智能合约与阈值桥接账户集成以执行 CTP 查询

#### 阈值桥接账户功能

应用在链 A 上构建其合约时，可以引用阈值桥接合约以获得跨链支持：

**注册功能**：

- 注册想要通信的区块链
- 注册该区块链上想要利用的资产

**操作功能**：

- 接受存款
- 处理提款
- 其他函数（类似于 ERC-20 合约调用）

### 7.3 DeFi 应用示例：MapleSwap

**场景**：

- MapleSwap 是一个原生驻留在链 A 上的著名 DeFi 应用
- 在阈值桥接账户注册
- 用户想要提交存款到跨两条链的资产 X 和 Y 之间的交易对

**流程**：

```
1. 提交请求
   用户提交请求
   └─ 通过阈值桥接账户路由到 Axelar 网络进行处理

2. 生成存款密钥
   Axelar 网络理解此应用已注册跨链支持
   ├─ 利用阈值密码学和共识
   ├─ 为用户在对应链 A 和 B 上生成存款密钥
   └─ 对应的密钥在所有 Axelar 验证者之间共享

3. 返回公钥
   相关公钥返回给应用
   └─ 显示给用户
   └─ 用户可以使用他们最喜欢的钱包提交存款

4. 确认存款
   当存款被确认时
   └─ Axelar 更新其跨链目录
   └─ 记录用户在相应链上已存入这些资产

5. 生成阈值签名
   Axelar 验证者执行多方协议
   └─ 生成允许更新链 A 上阈值桥接账户的阈值签名

6. 返回查询结果
   CTP 查询返回到 DeFi 应用智能合约
   └─ 可以更新其状态
   └─ 更新其收益公式、汇率或执行其他应用状态相关条件
```

### 7.4 支持的其他跨链请求

#### 1. 公钥名称服务（PKNS）

- 将公钥映射到电话号码/Twitter 句柄的通用目录
- 一些项目（如 Celo）在其平台内提供这些功能

#### 2. 跨链应用触发器

- 链 A 上的应用可以在链 B 上的某个应用满足搜索条件时更新其状态
- 例如：利率 < X

#### 3. 智能合约可组合性

- 链 A 上的智能合约可以基于链 B 上的合约状态更新其状态
- 或触发操作以更新链 B 上的智能合约

**高级视图**：

> 协议 CTP、CGP 和 Axelar 网络可以跨区块链传递和写入任意可验证的状态信息

---

## 8. 总结

### 8.1 愿景

在未来几年，重要的应用和资产将建立在多个区块链生态系统之上。

### 8.2 Axelar 的价值

- **统一跨链通信层**：可用于将这些区块链插入统一的跨链通信层
- **路由和应用层协议**：满足平台构建者和应用开发者的需求
- **简单协议和 API**：应用开发者可以在最适合其需求的平台上构建
- **全局访问**：利用简单的协议和 API 访问全局跨链流动性、用户并与其他链通信

### 8.3 核心优势

1. ✅ **为区块链平台**：无需集成工作即可连接到其他生态系统
2. ✅ **为应用开发者**：一个简单的协议和 API 即可访问整个生态系统
3. ✅ **为用户**：直接从钱包与任何应用交互

---

## 附录

### 参考文献

1. Cosmos: A network of distributed ledgers
2. Polkadot: Vision for a heterogeneous multi-chain framework
3. Avalanche platform
4. Ethereum Yellow Paper
5. tBTC: A decentralized redeemable BTC-backed ERC-20 token
6. Threshold signature schemes and cryptographic protocols
7. Byzantine consensus and partial synchrony research
8. And more...

---

**文档版本**：1.0
**发布日期**：2021年1月
**翻译日期**：2025年1月
